<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kho Lưu Trữ - Universe Final</title>
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* --- NỀN VŨ TRỤ SAO --- */
        .stars-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
        }

        .stars {
            width: 2px; height: 2px; background: transparent;
            box-shadow: 450px 240px #FFF, 120px 300px #FFF, 780px 500px #FFF, 1500px 200px #FFF, 300px 800px #FFF, 1200px 100px #FFF, 900px 700px #FFF, 200px 100px #FFF, 600px 400px #FFF, 1100px 900px #FFF, 1400px 600px #FFF, 50px 500px #FFF, 1600px 800px #FFF, 400px 200px #FFF, 800px 100px #FFF, 1000px 400px #FFF, 1300px 300px #FFF, 250px 750px #FFF, 550px 850px #FFF, 950px 150px #FFF;
            animation: starDrift 100s linear infinite;
        }

        @keyframes starDrift {
            from { transform: translateY(0px); }
            to { transform: translateY(-2000px); }
        }

        /* --- Ô THÔNG TIN NHẠC --- */
        #music-info {
            position: absolute; top: 30px; left: 50%; transform: translateX(-50%);
            border: 1px solid rgba(255, 255, 255, 0.3); padding: 8px 15px; border-radius: 4px;
            font-size: 12px; letter-spacing: 2px; color: #fff; background: rgba(255, 255, 255, 0.05);
            text-transform: uppercase; z-index: 5; width: 250px; text-align: center;
            overflow: hidden; white-space: nowrap;
        }
        #music-info span { display: inline-block; padding-left: 100%; animation: marquee 10s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* --- CAROUSEL THƯ MỤC --- */
        .carousel-container { display: flex; align-items: center; gap: 60px; z-index: 10; }
        .folder-viewport { width: 280px; height: 320px; display: flex; align-items: center; justify-content: center; position: relative; }
        .folder-wrapper { text-align: center; cursor: pointer; position: absolute; transition: all 0.4s ease; }
        .file-icon { width: 200px; height: 200px; fill: white; filter: drop-shadow(0 0 15px rgba(255,255,255,0.4)); }
        .folder-label { margin-top: 15px; font-size: 24px; font-weight: 300; letter-spacing: 5px; }
        .arrow-btn { background: none; border: none; color: #fff; font-size: 60px; cursor: pointer; opacity: 0.3; transition: 0.3s; padding: 20px; }
        .arrow-btn:hover { opacity: 1; transform: scale(1.2); }

        /* --- MODAL NỘI DUNG --- */
        #content-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.96); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 100; }
        .modal-box { width: 85%; max-width: 700px; height: 60%; border-left: 1px solid #fff; padding: 30px; overflow-y: auto; line-height: 1.6; }
        .close-btn { margin-top: 20px; padding: 10px 30px; background: none; color: #fff; border: 1px solid #fff; cursor: pointer; letter-spacing: 2px; }

        /* --- MÀN HÌNH BẮT ĐẦU --- */
        #start-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 200; cursor: pointer; }

        /* --- XOAY MÀN HÌNH ĐIỆN THOẠI --- */
        #landscape-warning { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #fff; z-index: 9999; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        @media screen and (max-width: 850px) and (orientation: portrait) { #landscape-warning { display: flex; } }

        /* --- HỆ THỐNG CHAT TỰ ĐỘNG --- */
        #chat-container {
            position: fixed; bottom: 20px; right: 20px;
            display: flex; flex-direction: column; gap: 10px; align-items: flex-end;
            z-index: 9999; pointer-events: none;
        }
        .chat-msg {
            background-color: #ffffff; color: #000000; padding: 12px 18px;
            border-radius: 18px; border-bottom-right-radius: 2px;
            max-width: 300px; font-size: 14px; font-weight: 500;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); pointer-events: auto;
            animation: flyInChat 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
            opacity: 0;
        }
        @keyframes flyInChat {
            0% { transform: translate(-45vw, 200px) scale(0.5); opacity: 0; }
            100% { transform: translate(0, 0) scale(1); opacity: 1; }
        }
        .fade-out { animation: fadeAway 5s forwards; }
        @keyframes fadeAway {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.9) translateY(-10px); }
        }
    </style>
</head>
<body>

    <div id="landscape-warning">
        <h2 style="font-weight: 300;">Vui lòng xoay ngang điện thoại</h2>
        <p style="opacity: 0.6;">HEHE CHUẨN BỊ CHƯA BÉ NHƯ:33 ĐỈNH LẮM Á NHA</p>
    </div>

    <div id="chat-container"></div>

    <div class="stars-container"><div class="stars"></div></div>

    <div id="start-overlay" onclick="startSite()">
        <h1 style="font-weight: 100; letter-spacing: 10px;">ENTER</h1>
        <p style="font-size: 12px; opacity: 0.5;">Khởi hành vào không gian</p>
    </div>

    <div id="music-info">Đang tải nhạc...</div>
    <audio id="music-player" onended="nextTrack()"></audio>

    <div class="carousel-container">
        <button class="arrow-btn" onclick="moveFolder(-1)">&#8249;</button> 
        <div class="folder-viewport">
            <div class="folder-wrapper" id="folder-display" onclick="openFolder()">
                <svg class="file-icon" viewBox="0 0 24 24">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                </svg>
                <span class="folder-label" id="folder-name">01</span>
            </div>
        </div>
        <button class="arrow-btn" onclick="moveFolder(1)">&#8250;</button> 
    </div>

    <div id="content-modal">
        <h2 id="modal-title" style="font-weight: 100; letter-spacing: 5px;"></h2>
        <div class="modal-box" id="modal-body"></div>
        <button class="close-btn" onclick="closeFolder()">QUAY LẠI</button>
    </div>

    <script>
        // --- 1. DANH SÁCH NHẠC CỦA BẠN (TỰ CHỈNH TÊN FILE TẠI ĐÂY) ---
        const playlist = [
            { name: "Text 07", url: "nhac1.mp3" },
            { name: "ID3107 W/n", url: "nhac2.mp3" },
            { name: "Still With You(vẫn bên em:<)", url: "nhac3.mp3" }
        ];

        // --- 2. NỘI DUNG CÁC THƯ MỤC ---
        const contents = {
            1: `<h3>Anh và em </h3>p>Anh làm trang web
này là để nói cho bé biết về tình yêu của anh dành
cho em , hiện tai đang là ngày 20/02/2026</p>
<p>Mình cũng đã bên nhau hơn 1 năm rồi á baby,thật
là một khoảng thời gian dài ha, trang web này anh
dựng lên là để em bé biết rằng:3 a yêu baby rất
nhiều,aluôn dùng hết những gìa biết a có à a làm
được đế cho e:33
moa moa.anh nghĩ anh sẽ cho bé xem trang web này
vào ngày sinh nhật của bé nè hoặc 1 dịp gì đó đặc
biệt, chắclúc e đọc được e bé cũng biết rồi ha hihi,thì
mục số 1 nà á chỉ là đế anh nói về
lý do a làm trang web và cách a làm nó:33.Về lý do
thìanh cảm thấy sẽ rất là ngầu và lãng mạn khi đưa
tình yêu của anh vào một trang web chỉ có 1 người vô
được và đọc được và đó là em hehe, còn về cách mà
anh làm được trang web này thì a nhờ a.i viết code
theo ý cua a và anh học 1 ít code để tự sửa không
cần a.i:33 hehe nói chung là a làm cũng nhiều lắm
nhoooo.Anh mong bé sẽ nhận được tình yêu này ca
a và giữ nó trong lòng:33, tiếp tuc đọc những mục
tiếp theo nhe bé yêu:3</p>
<p>Anh yêu bé Như</p>`,
            2: `<h3>Mục số 02</h3><p>Nội dung thư mục 2 của bạn.</p>`,
            3: `<h3>Mục số 03</h3><p>Nội dung thư mục 3 của bạn.</p>`
        };

        // --- 3. KỊCH BẢN CHAT (CHẠY NGẦM SAU KHI MỞ MỤC) ---
        const chatScripts = {
            1: [
                { delay: 60000, text: "Thấy web anh làm hay hem kk" }, 
                { delay: 70000, text: "kk đừng bất ngờ quá anh không đang chat trực tiếp với em đâu đây chỉ những câu a viết sẵn để hướng dẫn em và trông nom cô bé của anh hehe" },
                { delay: 76000, text: "Đọc vui nha baby:33" },
                { delay: 83000, text: "yêu yêu hehe" }
            ],
            2: [
                { delay: 5000, text: "Bạn đang xem mục 2 đúng không?" }
            ]
        };

        // --- 4. LOGIC HỆ THỐNG ---
        let currentIndex = 1;
        let currentTrackIndex = 0;
        const totalFolders = 10; // Bạn có thể chỉnh số lượng thư mục tùy ý
        const player = document.getElementById('music-player');
        const musicInfo = document.getElementById('music-info');
        let triggeredFolders = {}; 

        function moveFolder(direction) {
            currentIndex += direction;
            if (currentIndex > totalFolders) currentIndex = 1;
            if (currentIndex < 1) currentIndex = totalFolders;
            document.getElementById('folder-name').innerText = currentIndex < 10 ? "0" + currentIndex : currentIndex;
            
            const display = document.getElementById('folder-display');
            display.style.opacity = '0.5';
            setTimeout(() => { display.style.opacity = '1'; }, 200);
        }

        function openFolder() {
            const content = contents[currentIndex] || "Chưa có nội dung cho thư mục này.";
            document.getElementById('modal-title').innerText = "THƯ MỤC " + (currentIndex < 10 ? "0"+currentIndex : currentIndex);
            document.getElementById('modal-body').innerHTML = content;
            document.getElementById('content-modal').style.display = 'flex';

            // KÍCH HOẠT CHAT CHẠY NGẦM (Chỉ chạy 1 lần duy nhất cho mỗi mục)
            if (!triggeredFolders[currentIndex]) {
                startChatSequence(currentIndex);
                triggeredFolders[currentIndex] = true;
            }
        }

        function closeFolder() {
            document.getElementById('content-modal').style.display = 'none';
        }

        function startChatSequence(index) {
            const script = chatScripts[index];
            if (!script) return;

            script.forEach(msg => {
                setTimeout(() => {
                    createChatBubble(msg.text);
                }, msg.delay);
            });
        }

        function createChatBubble(text) {
            const container = document.getElementById('chat-container');
            const bubble = document.createElement('div');
            bubble.className = 'chat-msg';
            bubble.innerText = text;
            container.appendChild(bubble);

            // Tồn tại 2 phút (120,000ms), sau đó tan biến 5s
            setTimeout(() => {
                bubble.classList.add('fade-out');
                setTimeout(() => { bubble.remove(); }, 5000);
            }, 120000);
        }

        function startSite() {
            document.getElementById('start-overlay').style.display = 'none';
            playTrack(0);

            // Fullscreen & Khóa xoay ngang cho điện thoại
            try {
                const doc = document.documentElement;
                if (doc.requestFullscreen) doc.requestFullscreen();
                if (screen.orientation && screen.orientation.lock) {
                    screen.orientation.lock('landscape').catch(() => {});
                }
            } catch (err) {}
        }

        function playTrack(index) {
            if (index >= playlist.length) index = 0;
            currentTrackIndex = index;
            player.src = playlist[index].url;
            musicInfo.innerHTML = "<span>Now Playing: " + playlist[index].name + "</span>";
            player.play().catch(e => console.log("Lỗi chơi nhạc: ", e));
        }

        function nextTrack() {
            currentTrackIndex++;
            playTrack(currentTrackIndex);
        }
    </script>
</body>
</html>

